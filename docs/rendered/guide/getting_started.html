<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | MechWolf</title>
    <meta name="description" content="Continuous flow process automation made easy">
    
    
    <link rel="preload" href="/assets/css/0.styles.f2ecc26c.css" as="style"><link rel="preload" href="/assets/js/app.8feb3900.js" as="script"><link rel="preload" href="/assets/js/2.8d8c6c90.js" as="script"><link rel="preload" href="/assets/js/11.0fd5ca09.js" as="script"><link rel="prefetch" href="/assets/js/10.33177b6b.js"><link rel="prefetch" href="/assets/js/12.9a295110.js"><link rel="prefetch" href="/assets/js/13.c537ffe1.js"><link rel="prefetch" href="/assets/js/14.6e045fe7.js"><link rel="prefetch" href="/assets/js/15.d9766f80.js"><link rel="prefetch" href="/assets/js/3.f3a2b0d2.js"><link rel="prefetch" href="/assets/js/4.7bf71852.js"><link rel="prefetch" href="/assets/js/5.aafaa5a8.js"><link rel="prefetch" href="/assets/js/6.456fdee1.js"><link rel="prefetch" href="/assets/js/7.d85cb9fc.js"><link rel="prefetch" href="/assets/js/8.7cfb05e5.js"><link rel="prefetch" href="/assets/js/9.921bd528.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f2ecc26c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/head10x.png" alt="MechWolf" class="logo"> <span class="site-name can-hide">MechWolf</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/Benjamin-Lee/mechwolf" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/Benjamin-Lee/mechwolf" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/intro.html" class="sidebar-link">Welcome to MechWolf</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>About</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/about/faq.html" class="sidebar-link">FAQ</a></li><li><a href="/about/support.html" class="sidebar-link">Get Support</a></li><li><a href="/about/why.html" class="sidebar-link">Why Use MechWolf</a></li><li><a href="/about/license.html" class="sidebar-link">License</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/gentle_intro.html" class="sidebar-link">A Very Gentle Introduction</a></li><li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guide/getting_started.html" class="active sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/getting_started.html#create-components" class="sidebar-link">Create Components</a></li><li class="sidebar-sub-header"><a href="/guide/getting_started.html#create-the-apparatus" class="sidebar-link">Create the Apparatus</a></li></ul></li><li><a href="/guide/new_components.html" class="sidebar-link">Creating New Components</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting Started</h1> <p>The best way to learn MechWolf is by example. In the spirit of reproducibility,
we are going to go through the process of setting up and running our peptoid
synthesizer step-by-step.</p> <h2 id="create-components"><a href="#create-components" aria-hidden="true" class="header-anchor">#</a> Create Components</h2> <p>Let's start from square one (or zero, if you're counting like a programmer). We first need to import MechWolf:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> mechwolf <span class="token keyword">as</span> mw
</code></pre></div><p>The next thing that we need to do is to define the components of our
synthesizer. It will consist of vessels containing reagents:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># define vessels</span>
coupling_agent <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;DCC&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;coupling_agent&quot;</span><span class="token punctuation">)</span>
acid <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;bromoacetic acid&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;acid&quot;</span><span class="token punctuation">)</span>
solvent <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;solvent&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;solvent&quot;</span><span class="token punctuation">)</span>
output <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;waste&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;output&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>And the amines:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># define amines</span>
amine_1 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_1&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_1&quot;</span><span class="token punctuation">)</span>
amine_2 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">)</span>
amine_3 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_3&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_3&quot;</span><span class="token punctuation">)</span>
amine_4 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_4&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_4&quot;</span><span class="token punctuation">)</span>
amine_5 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_5&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_5&quot;</span><span class="token punctuation">)</span>
amine_6 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_6&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_6&quot;</span><span class="token punctuation">)</span>
amine_7 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_7&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_7&quot;</span><span class="token punctuation">)</span>
amine_8 <span class="token operator">=</span> mw<span class="token punctuation">.</span>Vessel<span class="token punctuation">(</span><span class="token string">&quot;amine_8&quot;</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;amine_8&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>What we have so far are a bunch of <code>vessel</code> objects.
Note that when we instantiate them we give them two arguments. The first,
required argument is what's in it. The second <code>name</code> keyword is the name the
we'll be using to refer to it. Consider the <code>name</code> to be like a unique
identifier. In most if not all cases it should match the variable name. However,
note that the name of the vessel does not need to match what's inside it.</p> <p>Now, we'll define the pumps that will drive the system:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># define pumps</span>
coupling_pump <span class="token operator">=</span> mw<span class="token punctuation">.</span>VarianPump<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;pump_3&quot;</span><span class="token punctuation">)</span>
amine_pump <span class="token operator">=</span> mw<span class="token punctuation">.</span>VarianPump<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;pump_2&quot;</span><span class="token punctuation">)</span>
mixer <span class="token operator">=</span> mw<span class="token punctuation">.</span>TMixer<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Note that the names of the objects don't match the variables! Why? Each physical
device has a unique name that is associated with it. In one apparatus, the pump
named <code>pump_3</code> might be the coupling pump, but in a completely different
apparatus might be something entirely different. However, we need a way uniquely
identify it so that we can send it commands during execution. It would be
annoying to have to remember the name of the phyiscal device <strong>and</strong> the
device's variable name, so you only need to associate them once (at definition)
and MechWolf will take care of making sure that commands get to the right place
during execution.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># define valve</span>
amine_mapping <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>
    amine_1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
    amine_2<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
    amine_3<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
    amine_4<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>
    amine_5<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>
    amine_6<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>
    amine_7<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>
    amine_8<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>
    acid<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span>
    solvent<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
valve <span class="token operator">=</span> mw<span class="token punctuation">.</span>ViciValve<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;valve&quot;</span><span class="token punctuation">,</span> mapping<span class="token operator">=</span>amine_mapping<span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>coupling_valve <span class="token operator">=</span> mw<span class="token punctuation">.</span>ViciValve<span class="token punctuation">(</span>
    name<span class="token operator">=</span><span class="token string">&quot;coupling_valve&quot;</span><span class="token punctuation">,</span> mapping<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>coupling_agent<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> solvent<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>fat_tube <span class="token operator">=</span> mw<span class="token punctuation">.</span>Tube<span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token string">&quot;2 foot&quot;</span><span class="token punctuation">,</span> ID<span class="token operator">=</span><span class="token string">&quot;1/16 in&quot;</span><span class="token punctuation">,</span> OD<span class="token operator">=</span><span class="token string">&quot;1/8 in&quot;</span><span class="token punctuation">,</span> material<span class="token operator">=</span><span class="token string">&quot;PFA&quot;</span><span class="token punctuation">)</span>
thin_tube <span class="token operator">=</span> mw<span class="token punctuation">.</span>Tube<span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token string">&quot;2 foot&quot;</span><span class="token punctuation">,</span> ID<span class="token operator">=</span><span class="token string">&quot;0.04 in&quot;</span><span class="token punctuation">,</span> OD<span class="token operator">=</span><span class="token string">&quot;1/16 in&quot;</span><span class="token punctuation">,</span> material<span class="token operator">=</span><span class="token string">&quot;PFA&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="create-the-apparatus"><a href="#create-the-apparatus" aria-hidden="true" class="header-anchor">#</a> Create the Apparatus</h2> <p>Now that we have our components defined, we need to tell Mechwolf how they are connected. The <code>Apparatus</code> object will do just that. First, we create the object (calling it <code>A</code> for brevity) and give it a name as the only argument.</p> <div class="language-python extra-class"><pre class="language-python"><code>A <span class="token operator">=</span> mw<span class="token punctuation">.</span>Apparatus<span class="token punctuation">(</span><span class="token string">&quot;Automated Fast Flow Peptoid Synthesizer&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>We now need to tell Mechwolf what components make up the apparatus. We do that with the <code>add()</code> function, which takes three arguments: from component(s), to component, and tube.</p> <div class="language-python extra-class"><pre class="language-python"><code>A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
    coupling_agent<span class="token punctuation">,</span>
    coupling_valve<span class="token punctuation">,</span>
    mw<span class="token punctuation">.</span>Tube<span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token string">&quot;130 cm&quot;</span><span class="token punctuation">,</span> ID<span class="token operator">=</span><span class="token string">&quot;1/16 in&quot;</span><span class="token punctuation">,</span> OD<span class="token operator">=</span><span class="token string">&quot;1/8 in&quot;</span><span class="token punctuation">,</span> material<span class="token operator">=</span><span class="token string">&quot;PFA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>solvent<span class="token punctuation">,</span> coupling_valve<span class="token punctuation">,</span> fat_tube<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>coupling_valve<span class="token punctuation">,</span> coupling_pump<span class="token punctuation">,</span> fat_tube<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>coupling_pump<span class="token punctuation">,</span> mixer<span class="token punctuation">,</span> thin_tube<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
        amine_1<span class="token punctuation">,</span>
        amine_2<span class="token punctuation">,</span>
        amine_3<span class="token punctuation">,</span>
        amine_4<span class="token punctuation">,</span>
        amine_5<span class="token punctuation">,</span>
        amine_6<span class="token punctuation">,</span>
        amine_7<span class="token punctuation">,</span>
        amine_8<span class="token punctuation">,</span>
        solvent<span class="token punctuation">,</span>
        acid<span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    valve<span class="token punctuation">,</span>
    fat_tube<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>valve<span class="token punctuation">,</span> amine_pump<span class="token punctuation">,</span> fat_tube<span class="token punctuation">)</span>
A<span class="token punctuation">.</span>add<span class="token punctuation">(</span>amine_pump<span class="token punctuation">,</span> mixer<span class="token punctuation">,</span> thin_tube<span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>A<span class="token punctuation">.</span>visualize<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>A<span class="token punctuation">.</span>summarize<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>P <span class="token operator">=</span> mw<span class="token punctuation">.</span>Protocol<span class="token punctuation">(</span>A<span class="token punctuation">,</span> duration<span class="token operator">=</span><span class="token string">&quot;auto&quot;</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> datetime <span class="token keyword">import</span> timedelta

<span class="token comment"># let's start at the very beginning (a very good place to start)</span>
start <span class="token operator">=</span> timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># how much time to leave the pumps off before and after switching the valve</span>
switching_time <span class="token operator">=</span> timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
coupling_duration <span class="token operator">=</span> timedelta<span class="token punctuation">(</span>minutes<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> seconds<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
amine_addition_duration <span class="token operator">=</span> timedelta<span class="token punctuation">(</span>minutes<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> seconds<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">add_rinse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> start
    rinse_duration <span class="token operator">=</span> timedelta<span class="token punctuation">(</span>minutes<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>

    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>valve<span class="token punctuation">,</span> coupling_valve<span class="token punctuation">]</span><span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>rinse_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span><span class="token string">&quot;solvent&quot;</span>
    <span class="token punctuation">)</span>

    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>amine_pump<span class="token punctuation">,</span> coupling_pump<span class="token punctuation">]</span><span class="token punctuation">,</span>
        start<span class="token operator">=</span>start <span class="token operator">+</span> switching_time<span class="token punctuation">,</span>
        duration<span class="token operator">=</span>rinse_duration <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> switching_time<span class="token punctuation">,</span>
        rate<span class="token operator">=</span><span class="token string">&quot;5 mL/min&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

    start <span class="token operator">+=</span> rinse_duration
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>peptoid <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;amine_3&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>We now define</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">for</span> amine <span class="token keyword">in</span> peptoid<span class="token punctuation">:</span>

    <span class="token comment"># initial rinse</span>
    add_rinse<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># perform acid coupling, first setting valve positions</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>valve<span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>coupling_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span><span class="token string">&quot;acid&quot;</span><span class="token punctuation">)</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        coupling_valve<span class="token punctuation">,</span>
        start<span class="token operator">=</span>start<span class="token punctuation">,</span>
        duration<span class="token operator">=</span>coupling_duration<span class="token punctuation">,</span>
        setting<span class="token operator">=</span><span class="token string">&quot;coupling_agent&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># then turn on the pumps for the duration, leaving time on both ends for valve switching</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>amine_pump<span class="token punctuation">,</span> coupling_pump<span class="token punctuation">]</span><span class="token punctuation">,</span>
        start<span class="token operator">=</span>start <span class="token operator">+</span> switching_time<span class="token punctuation">,</span>
        duration<span class="token operator">=</span>coupling_duration <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> switching_time<span class="token punctuation">,</span>
        rate<span class="token operator">=</span><span class="token string">&quot;5 mL/min&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    start <span class="token operator">+=</span> coupling_duration

    <span class="token comment"># another rise</span>
    add_rinse<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># now onto amine addition, setting the main valve to the amine</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>valve<span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>amine_addition_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span>amine<span class="token punctuation">)</span>
    <span class="token comment"># move the coupling valve to the solvent position</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        coupling_valve<span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>amine_addition_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span><span class="token string">&quot;solvent&quot;</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># only turn on the amine pump now, again leaving switching time</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        amine_pump<span class="token punctuation">,</span>
        start<span class="token operator">=</span>start <span class="token operator">+</span> switching_time<span class="token punctuation">,</span>
        duration<span class="token operator">=</span>amine_addition_duration <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> switching_time<span class="token punctuation">,</span>
        rate<span class="token operator">=</span><span class="token string">&quot;5 mL/min&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    start <span class="token operator">+=</span> amine_addition_duration

    <span class="token comment"># after amine addition, wash out with just the amine pump</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>valve<span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>amine_addition_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span><span class="token string">&quot;solvent&quot;</span><span class="token punctuation">)</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        coupling_valve<span class="token punctuation">,</span> start<span class="token operator">=</span>start<span class="token punctuation">,</span> duration<span class="token operator">=</span>amine_addition_duration<span class="token punctuation">,</span> setting<span class="token operator">=</span><span class="token string">&quot;solvent&quot;</span>
    <span class="token punctuation">)</span>
    P<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
        amine_pump<span class="token punctuation">,</span>
        start<span class="token operator">=</span>start <span class="token operator">+</span> switching_time<span class="token punctuation">,</span>
        duration<span class="token operator">=</span>amine_addition_duration <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> switching_time<span class="token punctuation">,</span>
        rate<span class="token operator">=</span><span class="token string">&quot;5 mL/min&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    start <span class="token operator">+=</span> amine_addition_duration
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>add_rinse<span class="token punctuation">(</span><span class="token punctuation">)</span>
add_rinse<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>P<span class="token punctuation">.</span>visualize<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Benjamin-Lee/mechwolf/edit/master/guide/getting_started.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/8/2019, 8:35:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/guide/installation.html" class="prev">
          Installation
        </a></span> <span class="next"><a href="/guide/new_components.html">
          Creating New Components
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8feb3900.js" defer></script><script src="/assets/js/2.8d8c6c90.js" defer></script><script src="/assets/js/11.0fd5ca09.js" defer></script>
  </body>
</html>
